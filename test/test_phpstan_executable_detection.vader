Before:
  Save g:ale_php_phpstan_executable
  Save g:ale_php_phpstan_level

  let g:ale_php_phpstan_executable = 'phpstan_test'

  call ale#test#SetDirectory('/testplugin/test')

  runtime ale_linters/php/phpstan.vim

After:
  Restore

  call ale#test#RestoreDirectory()
  call ale#linter#Reset()

Execute(project with level set to 3):
  call ale#test#SetFilename('phpstan-test-files/project-without-phpstan/foo/test.php')
  let g:ale_php_phpstan_level = 3

  AssertEqual
  \ 'phpstan_test analyze -l3 %s',
  \ ale_linters#php#phpstan#GetCommand(bufnr(''))

Execute(project with default level):
  call ale#test#SetFilename('phpstan-test-files/project-without-phpstan/foo/test.php')

  AssertEqual
  \ 'phpstan_test analyze -l4 %s',
  \ ale_linters#php#phpstan#GetCommand(bufnr(''))
